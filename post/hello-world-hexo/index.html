<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Hexo 搭建记录 | Roger Young</title>
<meta name="keywords" content="" />
<meta name="description" content="已转 Hugo。">
<meta name="author" content="rogeryoungh">
<link rel="canonical" href="https://rogeryoungh.github.io/blog/post/hello-world-hexo/" />
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.min.db03f6b1db979d0cdd8e815f16121fd4c2bd956cb3c3efedeab38b2fb48ae6a7.css" integrity="sha256-2wP2sduXnQzdjoFfFhIf1MK9lWyzw&#43;/t6rOLL7SK5qc=" rel="preload stylesheet" as="style">
<link rel="preload" href="/blog/avatar.png" as="image">
<script defer crossorigin="anonymous" src="/blog/assets/js/highlight.min.dacf81874295cd2936dececc3a04b7a00adb5d68618e897914957eeeef6f03b8.js" integrity="sha256-2s&#43;Bh0KVzSk23s7MOgS3oArbXWhhjol5FJV&#43;7u9vA7g="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://rogeryoungh.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://rogeryoungh.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://rogeryoungh.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://rogeryoungh.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://rogeryoungh.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.1" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            
            
            delimiters: [
                { left: '$$', right: '$$', display: true },
                { left: '$', right: '$', display: false },
                { left: '\\(', right: '\\)', display: false },
                { left: '\\[', right: '\\]', display: true }
            ],
            
            throwOnError: false
        });
    });
</script>




<meta property="og:title" content="Hexo 搭建记录" />
<meta property="og:description" content="已转 Hugo。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rogeryoungh.github.io/blog/post/hello-world-hexo/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-02-02T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-02-02T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hexo 搭建记录"/>
<meta name="twitter:description" content="已转 Hugo。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://rogeryoungh.github.io/blog/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Hexo 搭建记录",
      "item": "https://rogeryoungh.github.io/blog/post/hello-world-hexo/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hexo 搭建记录",
  "name": "Hexo 搭建记录",
  "description": "已转 Hugo。",
  "keywords": [
    
  ],
  "articleBody": "已转 Hugo。\n折腾了一整天，终于把 Hexo 给搭到 GitHub Page 上，我还是太菜了。\n又折腾了一天，使用了新的方式重新部署了博客，那也重写一下 Hello World 吧。\nHexo 本地搭建 装 git 和 npm、换淘宝源。装好之后安装 hexo-cli。\n$ npm install -g hexo-cli 用 hexo 新建目录 blog，进入目录。初始化环境\n$ hexo init blog $ cd blog $ npm install 这时，source/_posts/ 下可以看到 hello-world.md 文档，可以修改试试。\n查看一下成果。\n$ hexo serve 主题配置 最终选定了 Keep，简洁大方，深得我心。\nKeep 的作者给了一个 Demo，就是他自己的博客。还有两篇文档，Keep 主题使用指南 和 Keep 主题配置指南 。这两个文档讲的非常详细，跟着做很容易就配好了。\n然后可以根据文档加入想要的插件，比如我加了 search 和 mathjax 等。\n我决定通过 submodule 的方式使用主题，这样魔改样式时不会污染文章的时间线。\n先 Fork 主题，然后在 blog 项目中引用。\n$ git submodule add https://github.com/RogerYoungh/hexo-theme-keep themes/keep 修改 blog 项目的配置，查看一下主题是否变了。接下来就开始喜闻乐见的魔改主题……此处省略八百字\n主题是独立的项目，更新需要到 themes/keep 目录进行提交。但此时该仓库是游离态，提交修改需要先设置。\n$ git checkout master 之后 add、push 即可提交子模块。\n 有时可能直接在主题仓库中修改提交，而主仓库并不会随之更新依赖版本。此时需要更新子模块\n$ git submodule update --remote --merge  总之，博客仓库中成功拉取主题子模块，之后更新。\n$ git add . $ git submodule 应该可以看到子模块的 SHA 更新了。\nGitHub Action 部署 分别维护代码和网页分支较为麻烦，于是我采用 GitHub Action 做自动部署。\n首先在 _config.yml里设置部署位置\ndeploy:type:gitrepo:https://github.com/用户名/用户名.github.io.gitbranch:gh-page在 Google 直接搜 Hexo GitHub Action，第一个应该就是，按照说明填写信息并配置，push 上去应该就成功了。\n push 当然会报错，根据提示设好上游地址，这里我就偷懒不写啦（\n 现在我们可以在 用户名.github.io 里看到我们的文章啦！\nclone 下来的时候，不要再 hexo init 了，直接 hexo serve，根据提示缺啥包就用 npm install 把包装上。\nGitalk 评论 Keep 的文档讲的已经很清楚了，先请求 OAuth，填写博客地址。我直接把博客地址当 issues 仓库，配置文件里就填博客所在的 Repository 地址。\n部署上去后，博主登录会自动创建 issues。编辑删除等需要到仓库的 issus 地址去操作。\n想了想，还是把评论关了，看着那 issues 闹心，主要也没啥人评论。如果想与我联系的，博客和 GitHub 我都留了邮箱。\n等真有人找我说话了，我再把评论打开吧，不然那么多 issues 都只有我一个人，看着怪可怜的。\nMathJax Test $\\mathrm\\LaTeX$，勾股定理 $a^2+b^2=c^2$，\n$$ \\sum_{n=1}^\\infty \\frac{1}{n^2} = \\frac{\\pi^2}{6} $$\nCode Highlight Test public class Main { public static void main(String args[]) { System.out.println(\"Hello World!\"); } } ",
  "wordCount" : "186",
  "inLanguage": "en",
  "datePublished": "2021-02-02T00:00:00Z",
  "dateModified": "2021-02-02T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "rogeryoungh"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rogeryoungh.github.io/blog/post/hello-world-hexo/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Roger Young",
    "logo": {
      "@type": "ImageObject",
      "url": "https://rogeryoungh.github.io/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-font") === "serif") {
        document.body.classList.add('serif');
    }

</script>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://rogeryoungh.github.io/blog" accesskey="h" title="Roger Young (Alt + H)">Roger Young</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <button id="font-toggle" accesskey="t" title="(Alt + T)">A</button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://rogeryoungh.github.io/blog/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://rogeryoungh.github.io/blog/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://rogeryoungh.github.io/blog/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Hexo 搭建记录
    </h1>
    <div class="post-meta">February 2, 2021&nbsp;·&nbsp;rogeryoungh
</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#hexo-%e6%9c%ac%e5%9c%b0%e6%90%ad%e5%bb%ba" aria-label="Hexo 本地搭建">Hexo 本地搭建</a></li>
                <li>
                    <a href="#%e4%b8%bb%e9%a2%98%e9%85%8d%e7%bd%ae" aria-label="主题配置">主题配置</a></li>
                <li>
                    <a href="#github-action-%e9%83%a8%e7%bd%b2" aria-label="GitHub Action 部署">GitHub Action 部署</a></li>
                <li>
                    <a href="#gitalk-%e8%af%84%e8%ae%ba" aria-label="Gitalk 评论">Gitalk 评论</a></li>
                <li>
                    <a href="#mathjax-test" aria-label="MathJax Test">MathJax Test</a></li>
                <li>
                    <a href="#code-highlight-test" aria-label="Code Highlight Test">Code Highlight Test</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p><strong>已转 Hugo。</strong></p>
<p>折腾了一整天，终于把 Hexo 给搭到 GitHub Page 上，我还是太菜了。</p>
<p>又折腾了一天，使用了新的方式重新部署了博客，那也重写一下 Hello World 吧。</p>
<h2 id="hexo-本地搭建">Hexo 本地搭建<a hidden class="anchor" aria-hidden="true" href="#hexo-本地搭建">#</a></h2>
<p>装 git 和 npm、换淘宝源。装好之后安装 <code>hexo-cli</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ npm install -g hexo-cli
</code></pre></div><p>用 <code>hexo</code> 新建目录 <code>blog</code>，进入目录。初始化环境</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ hexo init blog
$ <span class="nb">cd</span> blog
$ npm install
</code></pre></div><p>这时，<code>source/_posts/</code> 下可以看到 <code>hello-world.md</code> 文档，可以修改试试。</p>
<p>查看一下成果。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ hexo serve
</code></pre></div><h2 id="主题配置">主题配置<a hidden class="anchor" aria-hidden="true" href="#主题配置">#</a></h2>
<p>最终选定了 <a href="https://github.com/XPoet/hexo-theme-keep">Keep</a>，简洁大方，深得我心。</p>
<p>Keep 的作者给了一个 <a href="https://xpoet.cn">Demo</a>，就是他自己的博客。还有两篇文档，<a href="https://xpoet.cn/2020/04/Keep-%E4%B8%BB%E9%A2%98%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">Keep 主题使用指南</a> 和 <a href="https://keep.xpoet.cn/2020/11/Keep-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/">Keep 主题配置指南</a> 。这两个文档讲的非常详细，跟着做很容易就配好了。</p>
<p>然后可以根据文档加入想要的插件，比如我加了 search 和 mathjax 等。</p>
<p>我决定通过 submodule 的方式使用主题，这样魔改样式时不会污染文章的时间线。</p>
<p>先 Fork 主题，然后在 blog 项目中引用。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ git submodule add https://github.com/RogerYoungh/hexo-theme-keep themes/keep
</code></pre></div><p>修改 blog 项目的配置，查看一下主题是否变了。接下来就开始喜闻乐见的魔改主题……此处省略八百字</p>
<p>主题是独立的项目，更新需要到 <code>themes/keep</code> 目录进行提交。但此时该仓库是游离态，提交修改需要先设置。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ git checkout master
</code></pre></div><p>之后 add、push 即可提交子模块。</p>
<blockquote>
<p>有时可能直接在主题仓库中修改提交，而主仓库并不会随之更新依赖版本。此时需要更新子模块</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ git submodule update --remote --merge
</code></pre></div></blockquote>
<p>总之，博客仓库中成功拉取主题子模块，之后更新。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ git add .
$ git submodule
</code></pre></div><p>应该可以看到子模块的 SHA 更新了。</p>
<h2 id="github-action-部署">GitHub Action 部署<a hidden class="anchor" aria-hidden="true" href="#github-action-部署">#</a></h2>
<p>分别维护代码和网页分支较为麻烦，于是我采用 GitHub Action 做自动部署。</p>
<p>首先在 <code>_config.yml</code>里设置部署位置</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">git</span><span class="w">
</span><span class="w">  </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/用户名/用户名.github.io.git</span><span class="w">
</span><span class="w">  </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">gh-page</span><span class="w">
</span></code></pre></div><p>在 Google 直接搜 Hexo GitHub Action，第一个应该就是，按照说明填写信息并配置，push 上去应该就成功了。</p>
<blockquote>
<p>push 当然会报错，根据提示设好上游地址，这里我就偷懒不写啦（</p>
</blockquote>
<p>现在我们可以在 <code>用户名.github.io</code> 里看到我们的文章啦！</p>
<p>clone 下来的时候，不要再 <code>hexo init</code> 了，直接 <code>hexo serve</code>，根据提示缺啥包就用 <code>npm install</code> 把包装上。</p>
<h2 id="gitalk-评论">Gitalk 评论<a hidden class="anchor" aria-hidden="true" href="#gitalk-评论">#</a></h2>
<p>Keep 的文档讲的已经很清楚了，先请求 <a href="https://github.com/settings/applications/new">OAuth</a>，填写博客地址。我直接把博客地址当 issues 仓库，配置文件里就填博客所在的 Repository 地址。</p>
<p>部署上去后，博主登录会自动创建 issues。编辑删除等需要到仓库的 issus 地址去操作。</p>
<p>想了想，还是把评论关了，看着那 issues 闹心，<del>主要也没啥人评论</del>。如果想与我联系的，博客和 GitHub 我都留了邮箱。</p>
<p>等真有人找我说话了，我再把评论打开吧，不然那么多 issues 都只有我一个人，看着怪可怜的。</p>
<h2 id="mathjax-test">MathJax Test<a hidden class="anchor" aria-hidden="true" href="#mathjax-test">#</a></h2>
<p>$\mathrm\LaTeX$，勾股定理 $a^2+b^2=c^2$，</p>
<p>$$
\sum_{n=1}^\infty \frac{1}{n^2} = \frac{\pi^2}{6}
$$</p>
<h2 id="code-highlight-test">Code Highlight Test<a hidden class="anchor" aria-hidden="true" href="#code-highlight-test">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Hello World!&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

  </div>
  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://rogeryoungh.github.io/blog/post/hello-world-hugo/">
    <span class="title">« Prev Page</span>
    <br>
    <span>迁移博客到 Hugo</span>
  </a>
</nav>
<blockquote>
    <p class="copyright-item">
        本文作者： rogeryoungh。
        许可协议：<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank">CC BY-SA 4.0</a>。
        转载请署名！
    </p>
    <p class="copyright-item">
        撰写时间：2021-02-02，
        <a href="https://github.com/rogeryoungh/blog/commits/main/content/post/hello-world-hexo.md" target="_blank">更新历史</a>。
    </p>
</blockquote>
  </footer><div id="vcomments"></div>
<script src='//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js'></script>
<script type="text/javascript">
    new Valine({
        el: '#vcomments',
        appId: 'FIvl3vmw2mH3naQEJhErblHr-gzGzoHsz',
        appKey: 'BhvzpBrJqPPzfK5phjDBiBb4',
        avatar: 'mp',
        placeholder: '说点什么吧...',
        visitor: 'false'
    });
</script>
</article>
    </main>
    <footer class="footer">
    <span>© 2021 <a href="/blog">Roger Young</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" id="gototop" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })
    document.getElementById("font-toggle").addEventListener("click", () => {
        if (document.body.className.includes("serif")) {
            document.body.classList.remove('serif');
            localStorage.setItem("pref-font", 'sans');
        } else {
            document.body.classList.add('serif');
            localStorage.setItem("pref-font", 'serif');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
